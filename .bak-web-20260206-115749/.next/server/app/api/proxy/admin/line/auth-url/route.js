(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[925],{2067:e=>{"use strict";e.exports=require("node:async_hooks")},6195:e=>{"use strict";e.exports=require("node:buffer")},2218:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ComponentMod:()=>x,default:()=>_});var r={};a.r(r),a.d(r,{GET:()=>h,runtime:()=>l});var n={};a.r(n),a.d(n,{originalPathname:()=>w,patchFetch:()=>g,requestAsyncStorage:()=>f,routeModule:()=>m,serverHooks:()=>k,staticGenerationAsyncStorage:()=>y});var o=a(8359),s=a(1029),u=a(8372),i=a(1246),p=a(3614);let l="edge",d=process.env.WORKER_API_BASE??"http://127.0.0.1:8787";async function c(){let e=await fetch(`${d}/health`,{cache:"no-store"});if(!e.ok)throw Error(`upstream /health not ok: ${e.status}`)}async function h(e){try{await c();let t=new URL(e.url).searchParams.get("tenantId")??"default",a=`${d}/admin/integrations/line/auth-url?tenantId=${encodeURIComponent(t)}`,r=await fetch(a,{cache:"no-store"}),n=await r.text();if(!r.ok)return p.xk.json({ok:!1,error:"upstream_error",status:r.status,body:n?.slice(0,500)??""},{status:r.status});return new p.xk(n,{status:200,headers:{"content-type":r.headers.get("content-type")??"application/json; charset=utf-8"}})}catch(e){return p.xk.json({ok:!1,error:"upstream_unavailable",message:e?.message??String(e),hint:"Start worker: pnpm wrangler dev --local --ip 127.0.0.1 --port 8787"},{status:503})}}let m=new s.AppRouteRouteModule({definition:{kind:u.x.APP_ROUTE,page:"/api/proxy/admin/line/auth-url/route",pathname:"/api/proxy/admin/line/auth-url",filename:"route",bundlePath:"app/api/proxy/admin/line/auth-url/route"},resolvedPagePath:"C:\\dev\\saas-factory\\apps\\web\\app\\api\\proxy\\admin\\line\\auth-url\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:f,staticGenerationAsyncStorage:y,serverHooks:k}=m,w="/api/proxy/admin/line/auth-url/route";function g(){return(0,i.XH)({serverHooks:k,staticGenerationAsyncStorage:y})}let x=n,_=o.a.wrap(m)}},e=>{var t=t=>e(e.s=t);e.O(0,[100],()=>t(2218));var a=e.O();(_ENTRIES="undefined"==typeof _ENTRIES?{}:_ENTRIES)["middleware_app/api/proxy/admin/line/auth-url/route"]=a}]);
//# sourceMappingURL=route.js.map