"use strict";exports.id=872,exports.ids=[872],exports.modules={4872:(e,r,t)=>{t.d(r,{Z:()=>N});var a=t(2064),s=t(5032),n=t(1236),d=t(8146),l=t(3721),i=t(1363),o=t(7012),c=t(2153),x=t(8048),m=t(5321),b=t(8716),u=t(8375),p=t(8024);async function h(e,r){try{let t=await (0,d.pE)(`/admin/staff/${encodeURIComponent(e)}/shift`,r);if(!t.ok)throw new d.GY("error"in t&&t.error?t.error:"Failed to update shift")}catch(e){if(e instanceof d.GY)throw e;throw new d.GY("Failed to update shift")}}var f=t(5773);let g=(0,f.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),j=(0,f.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),y=[0,1,2,3,4,5,6];function v({staffId:e,staffName:r,onClose:t,onSave:n}){let[i,o]=(0,s.useState)([]),[c,m]=(0,s.useState)([]),[b,f]=(0,s.useState)({}),[v,N]=(0,s.useState)(!1),[w,k]=(0,s.useState)(!0),[S,C]=(0,s.useState)(null),E=(0,p.Ph)(),$=(e,r,t)=>{o(a=>a.map(a=>{if(a.dow===e){let e={...a,[r]:t};if("start"===r&&"string"==typeof t&&t>=e.end){let r=Math.min(60*parseInt(t.split(":")[0])+parseInt(t.split(":")[1])+30,1200);e.end=`${Math.floor(r/60).toString().padStart(2,"0")}:${(r%60).toString().padStart(2,"0")}`}return e}return a})),f(r=>{let t={...r};return delete t[`weekly-${e}`],t})},Z=e=>{let r=i.find(r=>r.dow===e);r&&o(t=>t.map(t=>t.dow!==e&&t.enabled?{...t,start:r.start,end:r.end,breakStart:r.breakStart,breakEnd:r.breakEnd}:t))},A=(e,r,t)=>{m(a=>a.map((s,n)=>{if(n===e){let d={...s,[r]:t};return"date"===r&&-1!==a.findIndex((e,r)=>r!==n&&e.date===t)?(f(r=>({...r,[`exception-${e}`]:"この日付は既に登録されています"})),s):("type"!==r||"custom"!==t||(d.start||(d.start="10:00"),d.end||(d.end="19:00")),d)}return s})),f(r=>{let t={...r};return delete t[`exception-${e}`],t})},O=e=>{m(r=>r.filter((r,t)=>t!==e)),f(r=>{let t={...r};return delete t[`exception-${e}`],t})},F=()=>{let e={};i.forEach(r=>{if(r.enabled){let t=(0,p.a$)(r);t.valid||(e[`weekly-${r.dow}`]=t.error||"無効な設定です")}}),c.forEach((r,t)=>{if("custom"===r.type){if(r.start&&r.end){let a=(0,p.a$)({enabled:!0,start:r.start,end:r.end,breakStart:r.breakStart,breakEnd:r.breakEnd});a.valid||(e[`exception-${t}`]=a.error||"無効な設定です")}else e[`exception-${t}`]="開始時刻と終了時刻を入力してください"}});let r=new Set;return c.forEach((t,a)=>{r.has(t.date)?e[`exception-${a}`]="この日付は既に登録されています":r.add(t.date)}),f(e),0===Object.keys(e).length},Y=async()=>{if(!F()){N(!1);return}let r={staffId:e,weekly:i,exceptions:[...c].sort((e,r)=>e.date.localeCompare(r.date))};C(null);try{await h(e,r),n(r),N(!0),setTimeout(()=>{t()},1e3)}catch(e){C(e instanceof d.GY?e.message:e instanceof Error?e.message:"シフトの保存に失敗しました"),N(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:t,children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-soft max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-white border-b border-brand-border px-6 py-4 flex items-center justify-between z-10",children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-brand-text",children:"シフト設定"}),a.jsx("p",{className:"text-sm text-brand-muted mt-1",children:r})]}),a.jsx("button",{onClick:t,className:"p-2 text-brand-muted hover:bg-brand-bg rounded-lg transition-all",children:a.jsx(u.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[w&&(0,a.jsxs)("div",{className:"flex items-center justify-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-primary"}),a.jsx("span",{className:"ml-3 text-sm text-brand-muted",children:"読み込み中..."})]}),!w&&(0,a.jsxs)(a.Fragment,{children:[v&&a.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-xl",children:a.jsx("p",{className:"text-sm text-green-700",children:"保存しました"})}),S&&a.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl",children:a.jsx("p",{className:"text-sm text-red-700",children:S})}),b.exceptions&&a.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl",children:a.jsx("p",{className:"text-sm text-red-700",children:b.exceptions})}),(0,a.jsxs)(l.Z,{children:[a.jsx("h3",{className:"text-lg font-semibold text-brand-text mb-4",children:"週次テンプレート"}),a.jsx("div",{className:"space-y-3",children:y.map(e=>{let r=i.find(r=>r.dow===e)||{dow:e,enabled:!1,start:"10:00",end:"19:00"},t=`weekly-${e}`,s=b[t];return(0,a.jsxs)("div",{className:`p-4 border rounded-xl ${s?"border-red-300 bg-red-50":"border-brand-border bg-brand-bg"}`,children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 min-w-[100px]",children:[a.jsx("input",{type:"checkbox",id:`enabled-${e}`,checked:r.enabled,onChange:r=>$(e,"enabled",r.target.checked),className:"w-4 h-4 text-brand-primary border-brand-border rounded focus:ring-brand-primary"}),(0,a.jsxs)("label",{htmlFor:`enabled-${e}`,className:"text-sm font-medium text-brand-text",children:[(0,p.Ot)(e),"曜日"]})]}),r.enabled&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-xs text-brand-muted whitespace-nowrap",children:"開始"}),a.jsx("select",{value:r.start,onChange:r=>$(e,"start",r.target.value),className:"px-3 py-2 border border-brand-border rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-brand-primary/20 focus:border-brand-primary",children:E.map(e=>a.jsx("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-xs text-brand-muted whitespace-nowrap",children:"終了"}),a.jsx("select",{value:r.end,onChange:r=>$(e,"end",r.target.value),className:"px-3 py-2 border border-brand-border rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-brand-primary/20 focus:border-brand-primary",children:(0,p.YC)(r.start).map(e=>a.jsx("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-xs text-brand-muted whitespace-nowrap",children:"休憩開始"}),(0,a.jsxs)("select",{value:r.breakStart||"",onChange:r=>$(e,"breakStart",r.target.value||void 0),className:"px-3 py-2 border border-brand-border rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-brand-primary/20 focus:border-brand-primary",children:[a.jsx("option",{value:"",children:"なし"}),E.map(e=>a.jsx("option",{value:e,children:e},e))]})]}),r.breakStart&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-xs text-brand-muted whitespace-nowrap",children:"休憩終了"}),(0,a.jsxs)("select",{value:r.breakEnd||"",onChange:r=>$(e,"breakEnd",r.target.value||void 0),className:"px-3 py-2 border border-brand-border rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-brand-primary/20 focus:border-brand-primary",children:[a.jsx("option",{value:"",children:"なし"}),E.map(e=>a.jsx("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("button",{onClick:()=>Z(e),className:"px-3 py-2 text-xs text-brand-primary hover:bg-brand-bg rounded-lg transition-all flex items-center gap-1",title:"この設定を他の有効な曜日にコピー",children:[a.jsx(g,{className:"w-3 h-3"}),a.jsx("span",{children:"全曜日にコピー"})]})]})]}),s&&a.jsx("p",{className:"text-xs text-red-600 mt-2",children:b[t]})]},e)})})]}),(0,a.jsxs)(l.Z,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-brand-text",children:"例外日"}),(0,a.jsxs)("button",{onClick:()=>{},className:"px-4 py-2 bg-brand-primary text-white rounded-xl text-sm font-medium hover:shadow-md transition-all flex items-center gap-2",children:[a.jsx(x.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"例外追加"})]})]}),0===c.length?a.jsx("p",{className:"text-sm text-brand-muted text-center py-8",children:"例外日がありません"}):a.jsx("div",{className:"space-y-3",children:c.map((e,r)=>{let t=`exception-${r}`,s=b[t];return(0,a.jsxs)("div",{className:`p-4 border rounded-xl ${s?"border-red-300 bg-red-50":"border-brand-border bg-brand-bg"}`,children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[a.jsx("input",{type:"date",value:e.date,onChange:e=>A(r,"date",e.target.value),className:"px-3 py-2 border border-brand-border rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-brand-primary/20 focus:border-brand-primary"}),(0,a.jsxs)("select",{value:e.type,onChange:e=>A(r,"type",e.target.value),className:"px-3 py-2 border border-brand-border rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-brand-primary/20 focus:border-brand-primary",children:[a.jsx("option",{value:"off",children:"休み"}),a.jsx("option",{value:"custom",children:"カスタム時間"})]}),"custom"===e.type&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-xs text-brand-muted whitespace-nowrap",children:"開始"}),a.jsx("select",{value:e.start||"",onChange:e=>A(r,"start",e.target.value),className:"px-3 py-2 border border-brand-border rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-brand-primary/20 focus:border-brand-primary",children:E.map(e=>a.jsx("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-xs text-brand-muted whitespace-nowrap",children:"終了"}),a.jsx("select",{value:e.end||"",onChange:e=>A(r,"end",e.target.value),className:"px-3 py-2 border border-brand-border rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-brand-primary/20 focus:border-brand-primary",children:e.start?(0,p.YC)(e.start).map(e=>a.jsx("option",{value:e,children:e},e)):E.map(e=>a.jsx("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-xs text-brand-muted whitespace-nowrap",children:"休憩開始"}),(0,a.jsxs)("select",{value:e.breakStart||"",onChange:e=>A(r,"breakStart",e.target.value),className:"px-3 py-2 border border-brand-border rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-brand-primary/20 focus:border-brand-primary",children:[a.jsx("option",{value:"",children:"なし"}),E.map(e=>a.jsx("option",{value:e,children:e},e))]})]}),e.breakStart&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-xs text-brand-muted whitespace-nowrap",children:"休憩終了"}),(0,a.jsxs)("select",{value:e.breakEnd||"",onChange:e=>A(r,"breakEnd",e.target.value),className:"px-3 py-2 border border-brand-border rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-brand-primary/20 focus:border-brand-primary",children:[a.jsx("option",{value:"",children:"なし"}),E.map(e=>a.jsx("option",{value:e,children:e},e))]})]})]}),a.jsx("button",{onClick:()=>O(r),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all ml-auto",title:"削除",children:a.jsx(j,{className:"w-4 h-4"})})]}),s&&a.jsx("p",{className:"text-xs text-red-600 mt-2",children:b[t]})]},r)})})]}),(0,a.jsxs)("div",{className:"flex gap-2 pt-4 border-t border-brand-border",children:[a.jsx("button",{onClick:t,className:"flex-1 px-4 py-3 bg-white text-brand-text border border-brand-border rounded-xl font-medium hover:shadow-md transition-all",children:"キャンセル"}),a.jsx("button",{onClick:Y,disabled:w,className:"flex-1 px-4 py-3 bg-brand-primary text-white rounded-xl font-medium hover:shadow-md focus:outline-none focus:ring-2 focus:ring-brand-primary focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"保存"})]})]})]})]})})}function N(){let[e,r]=(0,s.useState)([]),[t,p]=(0,s.useState)(!1),[h,f]=(0,s.useState)(null),[g,j]=(0,s.useState)(!1),[y,N]=(0,s.useState)(null),[w,k]=(0,s.useState)(!1),[S,C]=(0,s.useState)(""),[E,$]=(0,s.useState)(""),[Z,A]=(0,s.useState)({name:"",role:"",active:!0,sortOrder:0}),O=async()=>{p(!0),f(null);try{let e=await (0,n.Dh)();Array.isArray(e)?r(e):(console.warn("fetchStaff: staff is not an array, setting to empty array"),r([]))}catch(e){f(e instanceof d.GY?e.message:e instanceof Error?e.message:"Failed to fetch staff"),r([])}finally{p(!1)}},F=e=>{N(e),A({name:e.name,role:e.role||"",active:e.active,sortOrder:e.sortOrder}),j(!0)},Y=async()=>{if(!Z.name.trim()){f("名前は必須です");return}p(!0),f(null);try{y?await (0,n.Qf)(y.id,{name:Z.name.trim(),role:Z.role.trim()||void 0,active:Z.active,sortOrder:Z.sortOrder}):await (0,n.jK)({name:Z.name.trim(),role:Z.role.trim()||void 0,active:Z.active,sortOrder:Z.sortOrder}),await O(),j(!1)}catch(e){f(e instanceof d.GY?e.message:e instanceof Error?e.message:"Failed to save staff")}finally{p(!1)}},M=async e=>{p(!0),f(null);try{await (0,n.Qf)(e.id,{active:!e.active}),await O()}catch(e){f(e instanceof d.GY?e.message:e instanceof Error?e.message:"Failed to update staff")}finally{p(!1)}};return(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx(i.Z,{title:"スタッフ管理",subtitle:"スタッフの追加・編集を行います。",right:(0,a.jsxs)("button",{onClick:()=>{N(null),A({name:"",role:"",active:!0,sortOrder:e.length}),j(!0)},className:"px-4 py-2 bg-brand-primary text-white rounded-xl font-medium hover:shadow-md transition-all flex items-center gap-2",children:[a.jsx(x.Z,{className:"w-5 h-5"}),a.jsx("span",{children:"追加"})]})}),h&&a.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-2xl",children:a.jsx("p",{className:"text-sm text-red-700",children:h})}),a.jsx(l.Z,{children:t&&0===e.length?(0,a.jsxs)("div",{className:"flex items-center justify-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-primary"}),a.jsx("span",{className:"ml-3 text-sm text-brand-muted",children:"読み込み中..."})]}):a.jsx(o.Z,{headers:["名前","役職","状態","操作"],rows:e.map(e=>[e.name,e.role||"-",a.jsx(c.Z,{variant:e.active?"success":"muted",children:e.active?"有効":"無効"},"status"),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>{C(e.id),$(e.name),k(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"シフト設定",children:a.jsx(m.Z,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>F(e),className:"p-2 text-brand-primary hover:bg-brand-bg rounded-lg transition-all",title:"編集",children:a.jsx(b.Z,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>M(e),className:"p-2 text-brand-muted hover:bg-brand-bg rounded-lg transition-all",title:e.active?"無効化":"有効化",children:a.jsx(u.Z,{className:"w-4 h-4"})})]},"actions")])})}),g&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>j(!1),children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-soft max-w-md w-full p-6 space-y-4",onClick:e=>e.stopPropagation(),children:[a.jsx("h2",{className:"text-xl font-semibold text-brand-text",children:y?"スタッフを編集":"スタッフを追加"}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-brand-text mb-2",children:"名前 *"}),a.jsx("input",{type:"text",value:Z.name,onChange:e=>A({...Z,name:e.target.value}),className:"w-full px-4 py-3 border border-brand-border rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-primary/20 focus:border-brand-primary",placeholder:"スタッフ名"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-brand-text mb-2",children:"役職"}),a.jsx("input",{type:"text",value:Z.role,onChange:e=>A({...Z,role:e.target.value}),className:"w-full px-4 py-3 border border-brand-border rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-primary/20 focus:border-brand-primary",placeholder:"例: Top Stylist"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"active",checked:Z.active,onChange:e=>A({...Z,active:e.target.checked}),className:"w-4 h-4 text-brand-primary border-brand-border rounded focus:ring-brand-primary"}),a.jsx("label",{htmlFor:"active",className:"text-sm text-brand-text",children:"有効"})]}),(0,a.jsxs)("div",{className:"flex gap-2 pt-4",children:[a.jsx("button",{onClick:()=>j(!1),className:"flex-1 px-4 py-3 bg-white text-brand-text border border-brand-border rounded-xl font-medium hover:shadow-md transition-all",children:"キャンセル"}),a.jsx("button",{onClick:Y,disabled:t||!Z.name.trim(),className:"flex-1 px-4 py-3 bg-brand-primary text-white rounded-xl font-medium hover:shadow-md focus:outline-none focus:ring-2 focus:ring-brand-primary focus:ring-offset-2 disabled:bg-brand-muted disabled:cursor-not-allowed transition-all",children:t?"保存中...":"保存"})]})]})}),w&&a.jsx(v,{staffId:S,staffName:E,onClose:()=>{k(!1),C(""),$("")},onSave:e=>{console.log("Shift saved:",e)}})]})}},3721:(e,r,t)=>{t.d(r,{Z:()=>s});var a=t(2064);function s({title:e,subtitle:r,children:t,className:s=""}){return(0,a.jsxs)("div",{className:`rounded-2xl bg-white border border-brand-border shadow-soft p-6 md:p-8 ${s}`,children:[e&&(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-brand-text",children:e}),r&&a.jsx("p",{className:"text-sm text-brand-muted mt-1",children:r})]}),t]})}},7012:(e,r,t)=>{t.d(r,{Z:()=>s});var a=t(2064);function s({columns:e,data:r,keyExtractor:t,loading:s=!1,emptyMessage:n="データがありません",onRowClick:d,headers:l,rows:i}){let o=Array.isArray(r)?r:[],c=Array.isArray(e)?e:[],x=Array.isArray(l)?l:[],m=Array.isArray(i)?i:[];return s?(0,a.jsxs)("div",{className:"flex items-center justify-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-primary"}),a.jsx("span",{className:"ml-3 text-sm text-brand-muted",children:"読み込み中..."})]}):x.length>0?0===m.length?a.jsx("div",{className:"bg-brand-bg rounded-2xl p-8 text-center",children:a.jsx("p",{className:"text-sm text-brand-muted",children:n})}):a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-brand-border",children:[a.jsx("thead",{className:"bg-brand-bg",children:a.jsx("tr",{children:x.map((e,r)=>a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-brand-muted uppercase tracking-wider",children:e},r))})}),a.jsx("tbody",{className:"bg-white divide-y divide-brand-border",children:m.map((e,r)=>a.jsx("tr",{className:"transition-colors hover:bg-brand-bg",children:Array.isArray(e)?e.map((e,r)=>a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e},r)):null},r))})]})}):0===c.length||0===o.length?a.jsx("div",{className:"bg-brand-bg rounded-2xl p-8 text-center",children:a.jsx("p",{className:"text-sm text-brand-muted",children:n})}):t?a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-brand-border",children:[a.jsx("thead",{className:"bg-brand-bg",children:a.jsx("tr",{children:c.map(e=>a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-brand-muted uppercase tracking-wider",children:e.label},e.key))})}),a.jsx("tbody",{className:"bg-white divide-y divide-brand-border",children:o.map(e=>a.jsx("tr",{onClick:()=>d?.(e),className:`transition-colors ${d?"hover:bg-brand-bg cursor-pointer":"hover:bg-brand-bg"}`,children:c.map(r=>a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:r.render?r.render(e):String(e[r.key]??"")},r.key))},t(e)))})]})}):a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-8 text-center",children:a.jsx("p",{className:"text-sm text-red-700",children:"keyExtractor is required when using columns/data format"})})}},1363:(e,r,t)=>{t.d(r,{Z:()=>n});var a=t(2064),s=t(5032);function n({title:e,subtitle:r,right:t}){let[n,d]=(0,s.useState)(!1),[l,i]=(0,s.useState)(null);return(0,a.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-brand-text",children:e}),r&&a.jsx("p",{className:"text-sm text-brand-muted mt-2",children:r})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[n&&l&&(0,a.jsxs)("span",{className:"px-2 py-1 text-xs font-mono text-brand-muted bg-brand-bg border border-brand-border rounded-md",children:["api: ",l]}),t&&a.jsx("div",{className:"flex items-center gap-2",children:t})]})]})}},8024:(e,r,t)=>{function a(e){let[r,t]=e.split(":").map(Number);return 60*r+t}function s(){let e=[];for(let r=10;r<=20;r++)for(let t=0;t<60;t+=30){let a=`${r.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`;e.push(a)}return e}function n(e){let r=s(),t=a(e);return r.filter(e=>a(e)>t)}function d(e){var r,t;if(!e.enabled)return{valid:!0};if(r=e.start,t=e.end,!(a(r)<a(t)))return{valid:!1,error:"終了時刻は開始時刻より後である必要があります"};if(e.breakStart||e.breakEnd){if(!e.breakStart||!e.breakEnd)return{valid:!1,error:"休憩開始時刻と終了時刻の両方を入力してください"};if(!function(e,r,t,s){if(!t||!s)return!0;let n=a(e),d=a(r),l=a(t),i=a(s);return n<l&&l<i&&i<d}(e.start,e.end,e.breakStart,e.breakEnd))return{valid:!1,error:"休憩時間は勤務時間の範囲内である必要があります"}}return{valid:!0}}function l(e){return["日","月","火","水","木","金","土"][e]}function i(e,r,t){if(!t)return!0;let s=new Date(e).getDay(),n=a(r),d=t.exceptions.find(r=>r.date===e);if(d){if("off"===d.type)return!1;if("custom"===d.type&&d.start&&d.end){let e=a(d.start),r=a(d.end);if(d.breakStart&&d.breakEnd){let e=a(d.breakStart),r=a(d.breakEnd);if(n>=e&&n<r)return!1}return n>=e&&n<r}}let l=t.weekly.find(e=>e.dow===s);if(!l||!l.enabled)return!1;let i=a(l.start),o=a(l.end);if(l.breakStart&&l.breakEnd){let e=a(l.breakStart),r=a(l.breakEnd);if(n>=e&&n<r)return!1}return n>=i&&n<o}t.d(r,{Ot:()=>l,Ph:()=>s,YC:()=>n,a$:()=>d,wS:()=>i})},8716:(e,r,t)=>{t.d(r,{Z:()=>a});let a=(0,t(5773).Z)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},8375:(e,r,t)=>{t.d(r,{Z:()=>a});let a=(0,t(5773).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}};