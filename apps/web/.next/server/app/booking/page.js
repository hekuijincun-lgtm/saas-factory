(()=>{var t={};t.id=355,t.ids=[355],t.modules={2934:t=>{"use strict";t.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:t=>{"use strict";t.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:t=>{"use strict";t.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:t=>{"use strict";t.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4613:(t,e,r)=>{"use strict";r.r(e),r.d(e,{GlobalError:()=>s.a,__next_app__:()=>u,originalPathname:()=>l,pages:()=>f,routeModule:()=>h,tree:()=>d}),r(2129),r(1595),r(8714);var a=r(3653),n=r(4966),o=r(6070),s=r.n(o),i=r(2555),c={};for(let t in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(t)&&(c[t]=()=>i[t]);r.d(e,c);let d=["",{children:["booking",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2129)),"C:\\dev\\saas-factory\\apps\\web\\app\\booking\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1595)),"C:\\dev\\saas-factory\\apps\\web\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,8714,23)),"next/dist/client/components/not-found-error"]}],f=["C:\\dev\\saas-factory\\apps\\web\\app\\booking\\page.tsx"],l="/booking/page",u={require:r,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/booking/page",pathname:"/booking",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6862:(t,e,r)=>{Promise.resolve().then(r.bind(r,9370)),Promise.resolve().then(r.bind(r,4271))},132:()=>{},4711:(t,e,r)=>{Promise.resolve().then(r.t.bind(r,417,23)),Promise.resolve().then(r.t.bind(r,181,23)),Promise.resolve().then(r.t.bind(r,7814,23)),Promise.resolve().then(r.t.bind(r,5266,23)),Promise.resolve().then(r.t.bind(r,490,23)),Promise.resolve().then(r.t.bind(r,2648,23))},8146:(t,e,r)=>{"use strict";r.d(e,{GY:()=>a,QW:()=>i,R1:()=>o,nc:()=>c,pE:()=>d,sg:()=>s});class a extends Error{constructor(t,e,r,a){super(t),this.name="ApiClientError",this.status=e,this.statusText=r,this.data=a}}async function n(t,e={}){let r=t.startsWith("/api/proxy/")?t:`${(process.env.NEXT_PUBLIC_API_BASE||"http://127.0.0.1:8787").replace(/\/$/,"")}${t.startsWith("/")?t:`/${t}`}`,n=e.timeout??3e4,o=new AbortController,s=setTimeout(()=>o.abort(),n);try{let t;let n=await fetch(r,{...e,signal:o.signal,headers:{"Content-Type":"application/json",...e.headers}});clearTimeout(s);let i=n.headers.get("content-type");if(i&&i.includes("application/json"))try{t=await n.json()}catch(t){throw new a("Failed to parse JSON response",n.status,n.statusText)}else t=await n.text();if(!n.ok){let e=t&&"object"==typeof t&&"error"in t&&"string"==typeof t.error?t.error:t&&"object"==typeof t&&"message"in t&&"string"==typeof t.message?t.message:`API request failed: ${n.status} ${n.statusText}`;throw new a(e,n.status,n.statusText,t)}return t}catch(t){if(clearTimeout(s),t instanceof Error&&"AbortError"===t.name)throw new a(`Request timeout after ${n}ms`);if(t instanceof a)throw t;if(t instanceof Error)throw new a(t.message);throw new a("Unknown error occurred")}}async function o(t,e){return n(t,{...e,method:"GET"})}async function s(t,e,r){return n(t,{...r,method:"POST",body:e?JSON.stringify(e):void 0})}async function i(t,e,r){return n(t,{...r,method:"DELETE",body:e?JSON.stringify(e):void 0})}async function c(t,e,r){return n(t,{...r,method:"PATCH",body:e?JSON.stringify(e):void 0})}async function d(t,e,r){return n(t,{...r,method:"PUT",body:e?JSON.stringify(e):void 0})}},1236:(t,e,r)=>{"use strict";r.d(e,{Dh:()=>c,FJ:()=>n,Gw:()=>w,IF:()=>s,Ip:()=>m,LW:()=>u,Ml:()=>i,Qf:()=>f,Rr:()=>o,Uf:()=>h,VP:()=>p,jK:()=>d,r7:()=>l});var a=r(8146);async function n(t,e){try{let r=new URLSearchParams({date:t});r.append("tenantId","default"),e&&"any"!==e&&r.append("staffId",e);let n=await fetch(`/api/proxy/slots?${r.toString()}`,{method:"GET",headers:{accept:"application/json"},cache:"no-store"});if(!n.ok){let t;let e=await n.text();try{t=e?JSON.parse(e):{}}catch{t={error:e||`HTTP ${n.status}`}}throw new a.GY(t.error||t.message||`Failed to fetch slots: ${n.status}`,n.status)}return await n.json()}catch(t){if(t instanceof a.GY)throw t;throw new a.GY(t instanceof Error?t.message:"Failed to fetch slots")}}async function o(t){try{return await (0,a.sg)("/reserve",t)}catch(t){if(t instanceof a.GY)throw t;throw new a.GY("Failed to create reservation")}}async function s(t){try{let e=await (0,a.R1)(`/admin/reservations?date=${encodeURIComponent(t)}`);if(e.reservations&&!Array.isArray(e.reservations))return console.warn("getReservations: response.reservations is not an array, setting to empty array"),{...e,reservations:[]};return e}catch(t){if(t instanceof a.GY)throw t;throw new a.GY("Failed to fetch reservations")}}async function i(t){try{return await (0,a.QW)(`/admin/reservations/${encodeURIComponent(t)}`)}catch(t){if(t instanceof a.GY)throw t;throw new a.GY("Failed to cancel reservation")}}async function c(){try{let t=await (0,a.R1)("/admin/staff");if(t.ok&&t.data){if(!Array.isArray(t.data))return console.warn("getStaff: response.data is not an array, returning empty array"),[];return t.data.filter(t=>t.active).sort((t,e)=>t.sortOrder-e.sortOrder)}throw new a.GY(t.error||"Failed to fetch staff")}catch(t){if(t instanceof a.GY)throw t;throw new a.GY("Failed to fetch staff")}}async function d(t){try{let e=await (0,a.sg)("/admin/staff",t);if(e.ok&&e.data)return e.data;throw new a.GY(e.error||"Failed to create staff")}catch(t){if(t instanceof a.GY)throw t;throw new a.GY("Failed to create staff")}}async function f(t,e){try{let r=await (0,a.nc)(`/admin/staff/${t}`,e);if(r.ok&&r.data)return r.data;throw new a.GY(r.error||"Failed to update staff")}catch(t){if(t instanceof a.GY)throw t;throw new a.GY("Failed to update staff")}}async function l(){try{let t=await (0,a.R1)("/admin/menu");if(t.ok&&t.data)return t.data.filter(t=>t.active).sort((t,e)=>t.sortOrder-e.sortOrder);throw new a.GY(t.error||"Failed to fetch menu")}catch(t){if(t instanceof a.GY)throw t;throw new a.GY("Failed to fetch menu")}}async function u(t){try{let e=await (0,a.sg)("/admin/menu",t);if(e.ok&&e.data)return e.data;throw new a.GY(e.error||"Failed to create menu item")}catch(t){if(t instanceof a.GY)throw t;throw new a.GY("Failed to create menu item")}}async function h(t,e){try{let r=await (0,a.nc)(`/admin/menu/${t}`,e);if(r.ok&&r.data)return r.data;throw new a.GY(r.error||"Failed to update menu item")}catch(t){if(t instanceof a.GY)throw t;throw new a.GY("Failed to update menu item")}}async function w(){try{let t=await (0,a.R1)("/admin/settings");if(t.ok&&t.data)return t.data;throw new a.GY(t.error||"Failed to fetch settings")}catch(t){if(t instanceof a.GY)throw t;throw new a.GY("Failed to fetch settings")}}async function p(t){try{let e=await (0,a.pE)("/admin/settings",t);if(e.ok&&e.data)return e.data;throw new a.GY(e.error||"Failed to update settings")}catch(t){if(t instanceof a.GY)throw t;throw new a.GY("Failed to update settings")}}async function m(t,e){try{let r=await (0,a.nc)(`/admin/reservations/${t}`,{staffId:e});if(r.ok&&r.data)return r.data;throw new a.GY(r.error||"Failed to assign staff")}catch(t){if(t instanceof a.GY)throw t;throw new a.GY("Failed to assign staff")}}},2129:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>i});var a=r(9222),n=r(1924);let o=(0,n.createProxy)(String.raw`C:\dev\saas-factory\apps\web\app\_components\booking\CustomerBookingApp.tsx#default`),s=(0,n.createProxy)(String.raw`C:\dev\saas-factory\apps\web\app\_components\ui\BookingShell.tsx#default`);function i(){return a.jsx(s,{children:a.jsx(o,{})})}},1595:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});var a=r(9222);function n({children:t}){return a.jsx("html",{lang:"ja",children:a.jsx("body",{children:t})})}r(6557)},6557:()=>{}};var e=require("../../webpack-runtime.js");e.C(t);var r=t=>e(e.s=t),a=e.X(0,[352,494,573],()=>r(4613));module.exports=a})();