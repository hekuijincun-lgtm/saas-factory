(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{8612:function(e,t,l){Promise.resolve().then(l.bind(l,9234))},9234:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return a}});var r=l(5853),n=l(4254);function s(e){let{badge:t,title:l,subtitle:n,children:s}=e;return(0,r.jsx)("main",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:(0,r.jsxs)("section",{className:"w-full max-w-2xl rounded-3xl overflow-hidden bg-white shadow-sm border border-gray-200",children:[(0,r.jsxs)("div",{className:"bg-slate-600 px-10 py-8",children:[(0,r.jsx)("div",{className:"text-white/80 text-xs tracking-widest",children:"SaaS FACTORY"}),(0,r.jsx)("h1",{className:"text-white text-2xl font-semibold mt-1",children:l}),n?(0,r.jsx)("p",{className:"text-white/80 text-sm mt-2",children:n}):null]}),(0,r.jsxs)("div",{className:"px-10 py-10",children:[t?(0,r.jsx)("div",{className:"inline-flex items-center rounded-full border border-gray-200 px-3 py-1 text-xs text-gray-600 mb-6",children:t}):null,s]})]})})}function a(){let[e,t]=(0,n.useState)(!1),l=async()=>{var e,l,r;t(!0);try{let t;let r="/api/proxy/admin/line/auth-url?tenantId=".concat(encodeURIComponent("default")),n=await fetch(r,{cache:"no-store",credentials:"include"}),s=await n.text();if(!n.ok)throw Error("auth-url failed: ".concat(n.status," ").concat(n.statusText," body=").concat(null!==(e=null==s?void 0:s.slice(0,200))&&void 0!==e?e:""));if(!s||!s.trim())throw Error("auth-url returned empty body");try{t=JSON.parse(s)}catch(e){throw Error("auth-url returned non-JSON: ".concat(s.slice(0,200)))}if(!(null==t?void 0:t.url))throw Error(null!==(l=null==t?void 0:t.error)&&void 0!==l?l:"auth-url is missing");window.location.href=t.url}catch(e){alert("LINEログイン開始に失敗: ".concat(null!==(r=null==e?void 0:e.message)&&void 0!==r?r:e)),t(!1)}};return(0,r.jsx)(s,{title:"ログイン",subtitle:"管理画面に入るために、LINEでログインしてください。",badge:e?"確認中…":"未ログイン",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("button",{onClick:l,disabled:e,className:"w-full rounded-2xl px-6 py-4 text-base font-semibold bg-blue-600 text-white disabled:opacity-60",children:e?"LINEへ移動中…":"LINEでログイン"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 leading-relaxed",children:"※ ログイン後、通知・予約連携（Messaging API設定）へ進みます。"})]})})}}},function(e){e.O(0,[285,749,744],function(){return e(e.s=8612)}),_N_E=e.O()}]);